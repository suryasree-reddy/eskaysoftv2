<!-- Acc Info Start -->
<div class="col-md-12">
  <div class="row">

<div class="col-md-12">
  <h3>{{'accountinfo.title' | translate}}</h3>
  <form [formGroup]="accInfoForm" (ngSubmit)="saveForm()" autocomplete="off">
  <app-errormessages [formRequiredError]="formRequiredError" [formSuccess]="formSuccess" [formServerError]="formServerError"
    [duplicateMessage]="duplicateMessage" [duplicateMessageParam]="duplicateMessageParam"></app-errormessages>



<div class="col-md-12 mr-b-2">
  <div class="row">

    <!-- Panel Start -->
    <div class="container-fluid">

      <div id="tab" class='col-xs-12 col-sm-12'>
        <tabset type="pills">
          <tab heading="{{'accountinfo.geninfo' | translate}}">
            <!-- General Info Start -->
            <form class="form">
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.name' | translate}}: *</p>
                
                <input id="accountName"  maxlength="50" #focus [readonly]="nameFlag" class="form-control capitalize" [formControl]="accInfoForm.controls['accountName']">
              </div>
              <div class="col-md-4 col-lt">
                <p>{{'subschedule.name' | translate}}: *</p>
                
                <input id="subScheduleId" maxlength="40" #focus [readonly]="nameFlag" class="form-control capitalize" [formControl]="accInfoForm.controls['subScheduleId']">
              </div>
              <div class="col-md-4 col-lt caret-md6">
                <p>{{'schedule.name' | translate}}: * &emsp; (<a style="cursor: pointer" (click)="openModal(template)">create new</a>)</p>
                <input id="scheduleType"  maxlength="40" [formControl]="scheduleForm.controls['scheduleName']" [typeahead]="scheduleList"
                  typeaheadOptionField="scheduleName" [typeaheadOptionsLimit]="7" [typeaheadMinLength]="0" (typeaheadOnSelect)="onSelectSchedule($event)"
                  class="form-control capitalize">
                <!-- <span class="caret"></span> -->
              </div>
              
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.address1' | translate}}: *</p>
                <input id="address1" maxlength="50" #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['address1']">
              </div>
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.address2' | translate}}: *</p>
                <input id="address2" maxlength="50" #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['address2']">
              </div>
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.town' | translate}}: *</p>
                <input id="town" maxlength="20" #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['town']">
              </div>
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.pin' | translate}}: *</p>
                <input id="pin" type="number"  maxlength="6" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                 #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['pin']">
              </div>

              <div class="col-md-4 col-lt">
                <p>{{'districts.name' | translate }}: *</p>
                <input id="districtId" maxlength="20" #focus [readonly]="nameFlag" class="form-control capitalize" [formControl]="accInfoForm.controls['districtId']">
              </div>

  
              <div class="col-md-4 col-lt">
                  <p>{{'states.name' | translate }}: * &emsp; (<a style="cursor: pointer" (click)="openModal(stateTemplate)">create new</a>)</p>
                  <input id="stateName" maxlength="20" [formControl]="statesForm.controls['stateName']" [typeahead]="statesList" typeaheadOptionField="stateName"
                    [typeaheadOptionsLimit]="7" [typeaheadMinLength]="0" (typeaheadOnSelect)="onSelectState($event)" class="form-control capitalize">
                    <span class="caret"></span>
                  </div>

              <div class="col-md-4 col-lt">
                <p>{{'areas.name' | translate }}: *</p>
                <input id="areaId" maxlength="40" #focus [readonly]="nameFlag" class="form-control capitalize" [formControl]="accInfoForm.controls['areaId']">
              </div>
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.phone' | translate}}: *</p>
                <input id="phone" type="number" maxlength="10" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                 #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['phone']">
              </div>
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.mobile' | translate}}: *</p>
                <input id="mobile" type="number" maxlength="10" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['mobile']">
              </div>
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.email' | translate}}: *</p>
                <input id="email" #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['email']">
              </div>
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.shortname' | translate}}: *</p>
                <input id="shortName"  maxlength="6" #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['shortName']">
              </div>
            </form>
            <!-- General Info Ends -->
          </tab>
          <tab heading="{{'accountinfo.reginfo' | translate}}">

            <!-- Regs Info Starts -->

            <form class="form">

              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.licno1' | translate}}: *</p>
                <input id="licNo1" maxlength="25" #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['licNo1']">
              </div>

              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.licno2' | translate}}: *</p>
                <input id="licNo2" maxlength="25" #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['licNo2']">
              </div>
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.licexpiry' | translate}}: *</p>
                <input id="licExpiry" type="date" #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['licExpiry']">
              </div>
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.retlicno1' | translate}}: *</p>
                <input id="retLicNo1" maxlength="25" #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['retLicNo1']">
              </div>
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.retlicno2' | translate}}: *</p>
                <input id="retLicNo2" maxlength="25" #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['retLicNo2']">
              </div>

              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.retexpiry' | translate}}: *</p>
                <input id="retExpiry" type="date" #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['retExpiry']">
              </div>

              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.foodlicno1' | translate}}: *</p>
                <input id="foodLicNo" maxlength="25" #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['foodLicNo']">
              </div>
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.otherlic' | translate}}: *</p>
                <input id="otherLicense" maxlength="25" #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['otherLicense']">
              </div>
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.otherlicexp' | translate}}: *</p>
                <input id="otherLicenseExpiry" type="date" #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['otherLicenseExpiry']">
              </div>
              
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.gsttype' | translate}}: *</p>
                <div class="input-group">
                  <input id="gstType" maxlength="5" class="form-control"  [formControl]="accInfoForm.controls['gstType']" [typeahead]="accGstType"
                    typeaheadOptionField="description" [typeaheadOptionsLimit]="7" [typeaheadMinLength]="0">
                  
                    <!-- <span class="caret" ></span> -->
                  </div>
              </div>

              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.gstin' | translate}}: *</p>
                <input id="gstIN" maxlength="15" #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['gstIN']">
              </div>

              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.naturegst' | translate}}: *</p>
                  <input id="natureOfGST" maxlength="9"  class="form-control" [formControl]="accInfoForm.controls['natureOfGST']"
                    [typeahead]="accNatureOfGst" typeaheadOptionField="description" [typeaheadOptionsLimit]="7" [typeaheadMinLength]="0">
                    <span class="caret"></span>
              </div>

              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.uinNo' | translate}}: *</p>
                <input id="uin" maxlength="25" #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['uin']">
              </div>

            </form>

            <!-- Regs Info Ends -->

          </tab>
          <tab heading="{{'accountinfo.cred' | translate}}">

            <!-- Credentials Starts -->

            <form class="form">

              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.crlimit' | translate}}: *</p>
                <input id="creditLimit" type="number" maxlength="12" step="0.01" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                 #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['creditLimit']">
              </div>
              
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.saletype' | translate}}: *</p>
                <input id="saleType" maxlength="6"  class="form-control" [formControl]="accInfoForm.controls['saleType']"
                [typeahead]="accSaleType" typeaheadOptionField="description" [typeaheadOptionsLimit]="7" [typeaheadMinLength]="0">
                <span class="caret"></span>
              </div>
          
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.custType' | translate}}: *</p>
                <input id="customerType"  maxlength="10"  class="form-control" [formControl]="accInfoForm.controls['customerType']"
                [typeahead]="accCustomerType" typeaheadOptionField="description" [typeaheadOptionsLimit]="7" [typeaheadMinLength]="0">
                <span class="caret"></span>
              </div>
            
            
              <div class="col-md-4 col-lt">
               <p>{{'accountinfo.duedays' | translate}}: *</p>
                <input id="dueDays" type="number" maxlength="3"  oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['dueDays']">
              </div>

            </form>

            <!-- Credentials Ends -->

          </tab>
          <tab heading="{{'accountinfo.othr' | translate}}">

            <!-- Others Starts -->

            <form class="form">

              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.contperson' | translate}}: *</p>
                <input id="contactPerson" maxlength="30" #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['contactPerson']">
              </div>

              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.hsncode' | translate}}: *</p>
                <input id="hsnCode" type="number" maxlength="8" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['hsnCode']">
              </div>
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.saccode' | translate}}: *</p>
                <input id="sacCode" type="number" maxlength="8" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                 #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['sacCode']">
              </div>
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.rateoftax' | translate}}: *</p>
                <input id="rateOfTax" type="number" maxlength="5" step="0.01" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                 #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['rateOfTax']">
              </div>

              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.openbalnc' | translate}}: *</p>
                <input id="openingBalance" type="number" maxlength="12" step="0.01" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                 #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['openingBalance']">
              </div>
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.opentype' | translate}}: *</p>
                <input id="openingType" maxlength="6" #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['openingType']"
                [typeahead]="accCustomerType" typeaheadOptionField="description" [typeaheadOptionsLimit]="7" [typeaheadMinLength]="0">
                <span class="caret"></span>
            </div>
              <div class="col-md-4 col-lt">
                <p>{{'accountinfo.spclremark' | translate}}: *</p>
                <input id="specialRemarks" maxlength="60" #focus [readonly]="nameFlag" class="form-control" [formControl]="accInfoForm.controls['specialRemarks']">
              </div>


            </form>

            <!-- Others Ends -->

          </tab>
        </tabset>

        <div class="tab-content clearfix">

        </div>
      </div>

      <!-- Panel End -->

      <!-- <div class="input-group">
        <button type="submit" class="btn btn-primary mr-l-10">Save</button>
      </div> -->

      <app-buttons [title]="'accountinfo.title'" [deleteConfirmMsg]="'accountinfo.deleteConfirmationMessage'"
      [saveConfirmMsg]="'accountinfo.saveConfirmationMessage'" [saveInfoMsg]="'accountinfo.saveInformationMessage'"
      [endPoint]="endPoint"
      [deleteInfoMsg]="'accountinfo.deleteInformationMessage'" [duplicateMessage]="duplicateMessage"
      [isBtnDeleteDisable]="deleteFlag" [hideSaveBtn]=true [hideResetBtn]=false
      [hideDeleteBtn]=false [formObj]="accInfoForm" (saveRecord)="save()"
      (deleteRecord)="delete()" (displayErrorMessages)="requiredErrMsg()"
      (afterSuccess)="successMsg()" (resetForm)="resetForm()" (serverErrMsg)="serverErrMsg()" ></app-buttons>


    </div>
  </div>
</div>

</form>
</div>

</div>
</div>
<!-- Acc Info Ends -->


<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">{{'schedule.create' | translate}}</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="scheduleForm" (ngSubmit)="saveSchedule()" autocomplete="off">

      <app-errormessages [formRequiredError]="scFormRequiredError" [formSuccess]="formSuccess"
      [formServerError]="scFormServerError" [duplicateMessage]="childDuplicateMessage"
       [duplicateMessageParam]="childDuplicateMessageParam"></app-errormessages>

      <div class="input-group">
        <p>{{'schedule.name' | translate}}: *</p>
        <input id="scheduleName" class="form-control capitalize" (blur)="checkForDuplicateScheduleName()" [formControl]="scheduleForm.controls['scheduleName']">
      </div>
        <div class="input-group">
          <p>{{'schedule.index' | translate }}: *</p>
          <input id="scheduleIndex" class="form-control" (blur)="validateFormOnBlur()" [formControl]="scheduleForm.controls['scheduleIndex']">
      </div>
          <div class="input-group">
            <p>{{'schedule.type' | translate }}: *</p>
            <input id="scheduleType" formControlName="scheduleType" [typeahead]="scheduleTypes" typeaheadOptionField="code"
          [typeaheadOptionsLimit]="7" [typeaheadMinLength]="0" class="form-control">
            <span class="caret"></span>
          </div>

          <div class="input-group">
            <button type="button" (click)="resetScheduleForm()" class="btn btn-primary">Reset</button>
            <button type="submit" class="btn btn-primary mr-l-10">Save</button>
          </div>

    </form>

  </div>
</ng-template>

<ng-template #stateTemplate>
    <div class="modal-header">
      <h4 class="modal-title pull-left">{{'states.create' | translate }}</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form [formGroup]="statesForm" autocomplete="off">

        <app-errormessages [formRequiredError]="scFormRequiredError" [formSuccess]="formSuccess"
        [formServerError]="scFormServerError" [duplicateMessage]="childDuplicateMessage"
         [duplicateMessageParam]="childDuplicateMessageParam"></app-errormessages>

      <div class="input-group">
          <p>{{'states.name' | translate }}: *</p>
          <input id="stateName" class="form-control capitalize" (blur)="checkForDuplicateStateName()" [formControl]="statesForm.controls['stateName']">
      </div>
      <div class="input-group">
          <p>{{'states.code' | translate }}: *</p>
          <input id="stateCode" class="form-control" (blur)="checkForDuplicateStateCode()" [formControl]="statesForm.controls['stateCode']">
        </div>

        <div class="input-group">
            <p>{{'states.zone' | translate }}: *</p>
           <input id="zone" formControlName="zone" [typeahead]="stateZone" typeaheadOptionField="description"
          [typeaheadOptionsLimit]="7" [typeaheadMinLength]="0"   class="form-control">
            <span class="caret"></span>
      </div>

      <app-buttons [title]="'states.title'" [deleteConfirmMsg]="'states.deleteConfirmationMessage'"
             [saveConfirmMsg]="'states.saveConfirmationMessage'" [saveInfoMsg]="'states.saveInformationMessage'"
             [endPoint]="stateEndPoint"
             [deleteInfoMsg]="'states.deleteInformationMessage'" [duplicateMessage]="childDuplicateMessage"
             [isBtnDeleteDisable]="deleteFlag" [hideSaveBtn]=true
             [hideDeleteBtn]=false [formObj]="statesForm" (saveRecord)="saveState()"
             (deleteRecord)="delete()" (displayErrorMessages)="requiredErrMsg()"
             (afterSuccess)="successMsg()" (resetForm)="resetStatesForm()" (serverErrMsg)="serverErrMsg()"></app-buttons>

      </form>

    </div>
  </ng-template>

