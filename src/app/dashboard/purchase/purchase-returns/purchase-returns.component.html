<div class="col-xs-12">
  <h3>{{'purchaseReturn.title' | translate}}</h3>
  <form [formGroup]="purchaseReturnsForm" autocomplete="off">
    <app-errormessages [formRequiredError]="formRequiredError" [formSuccess]="formSuccess" [formServerError]="sharedDataService.getErrorMesage()" [errorMessage]="'serverError.errorMessage'" [errorStatusCode]="sharedDataService.getErrorCode()" [duplicateMessage]=null [errorStatusMsg]="sharedDataService.getErrorMesage()" [duplicateMessageParam]=null>
    </app-errormessages>

    <div class="container-fluid" style="border-style: outset;">

        <div class="col-xs-3 mr-t-1">
            <p>{{'purchaseReturn.purReturnNumber' | translate}}: *</p>
            <input id="purReturnNumber" maxlength="40" #focus [readonly]=true class="form-control" [formControl]="purchaseReturnsForm.controls['purReturnNumber']">
          </div>

        <div class="col-xs-3 mr-t-1">
        <p>{{'common.date' | translate}}: *</p>
        <input id="date" type="date" class="form-control" [formControl]="purchaseReturnsForm.controls['date']">
      </div>

      <div class="col-xs-3 mr-t-1">
        <p>{{'common.supplier' | translate}}: *</p>
        <input id="supplier" maxlength="20" class="form-control" formControlName="supplier" typeaheadOptionField="accountName" [typeahead]="suppliersList" (typeaheadOnSelect)="onSelectSupplier($event)" [typeaheadMinLength]="0"
          [typeaheadOptionsLimit]="7">
        <span class="caret"></span>
      </div>

      <div class="col-xs-3 mr-t-1">
          <p>{{'common.remarks' | translate}}: *</p>
          <input id="remarks" maxlength="40" class="form-control" [formControl]="purchaseReturnsForm.controls['remarks']">
          <span class="caret hide-caret"></span>
        </div>
    </div>

    <div class="col-md-12 mr-t-1">
      <div class="col-xs-3 mr-t-1">
          <p>{{'common.productName' | translate}}: *</p>
          <input id="productName" class="form-control" formControlName="productName" typeaheadOptionField="name" [typeahead]="productsList" [typeaheadMinLength]="0" (typeaheadOnSelect)="onSelectProduct($event)" [typeaheadOptionsLimit]="7">
          <span class="caret"></span>
        </div>

        <div class="col-xs-3 mr-t-1">
            <p>{{'common.batch' | translate}}: *</p>
            <input id="batch" maxlength="12" class="form-control" [formControl]="purchaseReturnsForm.controls['batch']">
          </div>

      <div class="col-xs-3 mr-t-1">
        <p>{{'common.qty' | translate}}: *</p>
        <input id="qty" type="number" maxlength="10" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" class="form-control" (blur)="calculateRate()" [formControl]="purchaseReturnsForm.controls['qty']">
        <span class="caret hide-caret"></span>
      </div>        

      <div class="col-xs-3 mr-t-1">
        <div class="col-xs-6">
        <p>{{'common.free' | translate}}: *</p>
        <input id="free" #focus  type="number" maxlength="10" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" class="form-control" [formControl]="purchaseReturnsForm.controls['free']">
        <span class="caret hide-caret"></span>
      </div>
      <div class="col-xs-6">
        <p>{{'purchaseReturn.pRate' | translate}}: *</p>
        <input id="pRate" type="number"  maxlength="10" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" class="form-control" [formControl]="purchaseReturnsForm.controls['pRate']">
      </div>
    </div>
    </div>

<div class="col-md-12 mr-rt-2">
    <app-buttons [title]="'purchaseReturn.title'" [endPoint]="endPoint" [hideSaveBtn]=true [deleteConfirmMsg]="'purchaseReturn.deleteConfirmationMessage'" [hideResetBtn]=true [saveConfirmMsg]="'purchaseReturn.saveConfirmationMessage'" (afterSuccess)="successMsg()"      [hideDeleteBtn]=true [saveInfoMsg]="'purchaseReturn.saveInformationMessage'" (saveRecord)="save()" [deleteInfoMsg]="'purchaseReturn.deleteInformationMessage'" [duplicateMessage]=null [isBtnDeleteDisable]="deleteFlag" [formObj]="purchaseReturnsForm" (deleteRecord)="delete()" (displayErrorMessages)="requiredErrMsg()" (resetForm)="resetForm()">
    </app-buttons>
  </div>
  </form>
</div>

<div class="col-md-12">
  <app-synectiks-common-grid [endPoint]="endPoint" (intialLoad)='onInitialDataLoad($event)' [gridDataList]="gridDataList" (valueChange)='valueChange($event)' [screenColums]="'PurchaseReturnColumns'">
  </app-synectiks-common-grid>
</div>
