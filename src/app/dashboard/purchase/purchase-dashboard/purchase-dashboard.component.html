<div class="col-xs-12 pd-btm-2">
    <h2>{{'purchase.title' | translate}}</h2>
    <form [formGroup]="purchaseForm" autocomplete="off" class="mr-l-1">
        <app-errormessages [formRequiredError]="formRequiredError" [formSuccess]="formSuccess" [formServerError]="sharedDataService.getErrorMesage()"
            [errorMessage]="'serverError.errorMessage'" [errorStatusCode]="sharedDataService.getErrorCode()"
            [errorStatusMsg]="sharedDataService.getErrorMesage()" [duplicateMessage]="duplicateMessage"
            [duplicateMessageParam]="duplicateMessageParam"></app-errormessages>
        <div class="mr-left-10">

            <div class="col-xs-12 panels">
                <div class="row mr-rt-12">
                    <div>
                        <div id="tab" class='col-xs-12'>
                          
                                    <!-- General Info Start -->
                                    <form class="form" class='col-xs-12'>
                                        <h4>{{'purchase.header' | translate}}</h4>
                                        <div class="container-fluid" style="border-style: outset;">
                                            <div class="col-xs-3 mr-t-1">
                                                <p>{{'purchase.purchaseNumber' | translate}}: *</p>
                                                <input id="orderNumber" maxlength="20" #focus [readonly]="nameFlag"
                                                    (blur)="checkForDuplicateOrderNo()" class="form-control"
                                                    [formControl]="purchaseForm.controls['orderNumber']">
                                            </div>
                                            <div class="col-xs-3 mr-t-1">
                                                <p>{{'purchase.date' | translate}}: *</p>
                                                <input id="date" type="date" class="form-control" [formControl]="purchaseForm.controls['date']">
                                            </div>
                                            <div class="col-xs-3 mr-t-1">
                                                <p>{{'purchase.invoiceNumber' | translate}}: *</p>
                                                <input id="orderNumber" maxlength="20" #focus [readonly]="nameFlag"
                                                    (blur)="checkForDuplicateOrderNo()" class="form-control"
                                                    [formControl]="purchaseForm.controls['orderNumber']">
                                            </div>
                                            <div class="col-xs-3 mr-t-1">
                                                <p>{{'purchase.invoiceDate' | translate}}: *</p>
                                                <input id="invoiceDate" type="date" class="form-control" [formControl]="purchaseForm.controls['invoiceDate']">
                                            </div>
                                            <div class="col-xs-3 mr-t-1">
                                                <p>{{'common.supplier' | translate}}: *</p>
                                                <input id="supplier" maxlength="20" class="form-control" [formControl]="purchaseForm.controls['supplier']"
                                                    [typeahead]="districtsList" typeaheadOptionField="typeheadDisplay"
                                                    [typeaheadOptionsLimit]="7" [typeaheadMinLength]="0">
                                                <span class="caret"></span>
                                            </div>

                                            <div class="col-xs-3 mr-t-1">
                                                <p>{{'accountinfo.gstin' | translate}}: *</p>
                                                <input id="gstIN" maxlength="20" class="form-control" [formControl]="purchaseForm.controls['gstIN']">
                                                <span class="caret hide-caret"></span>

                                            </div>
                                            <div class="col-xs-3 mr-t-1">
                                                <p>{{'salesInvoice.mode' | translate}}: *</p>
                                                <input id="mode" maxlength="10" class="form-control" [formControl]="purchaseForm.controls['mode']" [typeahead]="modeType"
                                                  typeaheadOptionField="description" [typeaheadOptionsLimit]="7" [typeaheadMinLength]="0">
                                                <span class="caret"></span>
                                              </div>
                                            <div class="col-xs-3 mr-t-1">
                                                <p>{{'purchase.wayBill' | translate}}: *</p>
                                                <input id="gstIN" maxlength="20" class="form-control" [formControl]="purchaseForm.controls['gstIN']">
                                                <span class="caret hide-caret"></span>
                                            </div>
                                            <div class="col-xs-3 mr-t-1">
                                                <p>{{'purchase.lrNumber' | translate}}: *</p>
                                                <input id="lrNumber" maxlength="20" class="form-control" [formControl]="purchaseForm.controls['lrNumber']">
                                            </div>
                                            <div class="col-xs-3 mr-t-1">
                                                <p>{{'purchase.lrDate' | translate}}: *</p>
                                                <input id="lrDate" type="date" maxlength="20" class="form-control"
                                                    [formControl]="purchaseForm.controls['lrDate']">
                                            </div>
                                            <div class="col-xs-3 mr-t-1">
                                                <p>{{'purchase.transport' | translate}}: *</p>
                                                <input id="transport" maxlength="20" class="form-control" [formControl]="purchaseForm.controls['transport']">
                                            </div>
                                            <div class="col-xs-3 mr-t-1">
                                                <p>{{'purchase.deliveredFrom' | translate}}: *</p>
                                                <input id="deliveredFrom" maxlength="20" class="form-control"
                                                    [formControl]="purchaseForm.controls['deliveredFrom']">
                                            </div>
                                            <div class="col-xs-3 mr-t-1">
                                                <p>{{'purchase.cs' | translate}}: *</p>
                                                <input id="cs" maxlength="20" class="form-control" [formControl]="purchaseForm.controls['cs']">
                                            </div>
                                        </div>
                                        <h4>{{'purchase.detailed' | translate}}</h4>
                                        <div class="container-fluid mr-t-1 " style="border-style: outset; ">
                                        <div class="col-xs-3 mr-t-1">
                                            <p>{{'common.productName' | translate}}: *</p>
                                            <input id="productName" class="form-control" formControlName="productName" typeaheadOptionField="name" [typeahead]="productsList"
                                                (typeaheadOnSelect)="onSelectProduct($event)" [typeaheadOptionsLimit]="7"  [typeaheadMinLength]="0">
                                            <span class="caret"></span>
                                        </div>
                                        <div class="col-xs-3 mr-t-1">
                                            <p>{{'common.batch' | translate}}: *</p>
                                            <input id="gstIN" maxlength="20" class="form-control" [formControl]="purchaseForm.controls['gstIN']">
                                        </div>
                                        <div class="col-xs-3 mr-t-1">
                                            <p>{{'purchase.expiry' | translate}}: *</p>
                                            <input id="expiry" type="date" maxlength="20" class="form-control "
                                                [formControl]="purchaseForm.controls['expiry']">
                                        </div>
                                        <div class="col-xs-3 mr-t-1">
                                            <p>{{'common.qty' | translate}}: *</p>
                                            <input id="qty" maxlength="20" class="form-control" [formControl]="purchaseForm.controls['qty']">
                                            <span class="caret hide-caret"></span>
                                        </div>

                                        <div class="col-xs-3 mr-t-1">
                                            <p>{{'common.free' | translate}}: *</p>
                                            <input id="free" maxlength="20" class="form-control" [formControl]="purchaseForm.controls['free']">
                                        </div>
                                        <div class="col-xs-3 mr-t-1">
                                            <p>{{'common.purRate' | translate}}: *</p>
                                            <input id="purRate" maxlength="20" class="form-control" [formControl]="purchaseForm.controls['purRate']">
                                            <span class="caret hide-caret"></span>
                                        </div>
                                        <div class="col-xs-3 mr-t-1">
                                            <p>{{'purchase.othrCharges' | translate}}: *</p>
                                            <input id="othrCharges" maxlength="20" class="form-control" [formControl]="purchaseForm.controls['othrCharges']">
                                        </div>
                                       
                                        <div class="col-xs-3 mr-t-1">
                                            <p>{{'purchase.grsValue' | translate}}: *</p>
                                            <input id="grsValue" [readonly]="true" maxlength="20" class="form-control" [formControl]="purchaseForm.controls['greValue']">
                                            <span class="caret hide-caret"></span>
                                        </div>
                                        <div class="col-xs-3 mr-t-1">
                                            <p>{{'salesInvoice.disc' | translate}}: *</p>
                                            <input id="disc" maxlength="20" class="form-control" [formControl]="purchaseForm.controls['disc']">
                                        </div>
                                        <div class="col-xs-3 mr-t-1">
                                            <p>{{'purchase.ptd' | translate}}: *</p>
                                            <input id="ptd" maxlength="20" class="form-control" [formControl]="purchaseForm.controls['ptd']">
                                        </div>

                                        <div class="col-xs-3 mr-t-1">
                                            <p>{{'purchase.saleRate' | translate}}: *</p>
                                            <input id="saleRate" maxlength="20" class="form-control" [formControl]="purchaseForm.controls['saleRate']">
                                        </div>
                                        <div class="col-xs-3 mr-t-1">
                                            <p>{{'product.tax' | translate}}: *</p>
                                            <input id="tax" maxlength="20" class="form-control" [formControl]="purchaseForm.controls['tax']">
                                        </div>
                                        <div class="col-xs-3 mr-t-1">
                                            <p>{{'accountinfo.hsncode' | translate}}: *</p>
                                            <input id="hsncode" maxlength="20" class="form-control" [formControl]="purchaseForm.controls['hsncode']">
                                        </div>
                                        <div class="col-xs-3 mr-t-1">
                                            <p>{{'purchase.mrp' | translate}}: *</p>
                                            <input id="mrp" maxlength="20" class="form-control" [formControl]="purchaseForm.controls['mrp']">
                                        </div>
                                        <div class="col-xs-6 mr-t-1">
                                            <p>{{'purchase.mfg' | translate}}: *</p>
                                            <input id="mfg"  maxlength="20" class="form-control" [formControl]="purchaseForm.controls['mfg']">
                                        </div>
                                      </div>
                                      <h4>{{'purchase.detailed' | translate}}</h4>
                                      <div class="container-fluid mr-t-1 " style="border-style: outset; ">
                                        <div class="col-xs-12">
                                            <div class="col-xs-3 mr-t-1">
                                                <p>{{'purchase.debitAdjustmentLedger' | translate}}: *</p>
                                                <input id="debitAdjustmentLedger" #focus [readonly]="nameFlag" class="form-control"
                                                    [formControl]="purchaseForm.controls['debitAdjustmentLedger']">
                                            </div>
                                            <div class="col-xs-3 mr-t-1">
                                                <p>{{'purchase.debitAdjustmentValue' | translate}}: *</p>
                                                <input id="DebitAdjustmentValue" #focus [readonly]="nameFlag" class="form-control"
                                                    [formControl]="purchaseForm.controls['DebitAdjustmentValue']">
                                            </div>
                                            <div class="col-xs-3 mr-t-1">
                                                <p>{{'purchase.creditAdjustmentLedger' | translate}}: *</p>
                                                <input id="CreditAdjustmentLedger" class="form-control" [formControl]="purchaseForm.controls['CreditAdjustmentLedger']">
                                            </div>
                                            <div class="col-xs-3 mr-t-1">
                                                <p>{{'purchase.creditAdjustmentValue' | translate}}: *</p>
                                                <input id="creditAdjustmentValue" class="form-control" [formControl]="purchaseForm.controls['creditAdjustmentValue']">
                                            </div>
                                            <div class="col-xs-3 mr-t-1">
                                                <p>{{'purchase.invoiceValue' | translate}}: *</p>
                                                <input id="invoiceValue" class="form-control" [formControl]="purchaseForm.controls['invoiceValue']">
                                            </div>
                                            <div class="col-xs-3 mr-t-1">
                                                <p>{{'purchase.netValue2' | translate}}: *</p>
                                                <input id="netValue" class="form-control" [formControl]="purchaseForm.controls['netValue']">
                                            </div>
                                            <div class="col-xs-6 mr-t-1">
                                                <p>{{'purchase.remarks' | translate}}: *</p>
                                                <input id="remarks" class="form-control" [formControl]="purchaseForm.controls['remarks']">
                                            </div>


                                        </div>
                                        </div>
                                    </form>
                                    <div class="col-xs-12">
                                        <br /><br />
                                        <app-synectiks-common-grid [endPoint]="endPoint" (intialLoad)='onInitialDataLoad($event)'
                                            [gridDataList]="gridDataList" (valueChange)='valueChange($event)'
                                            [screenColums]="'PurchaseDashBoard'"></app-synectiks-common-grid>
                                    </div>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xs-12">
            <app-buttons [title]="'purchase.title'" [deleteConfirmMsg]="'purchase.deleteConfirmationMessage'"
                [saveConfirmMsg]="'purchase.saveConfirmationMessage'" [saveInfoMsg]="'purchase.saveInformationMessage'"
                [endPoint]="endPoint" [deleteInfoMsg]="'purchase.deleteInformationMessage'" [duplicateMessage]="duplicateMessage"
                [isBtnDeleteDisable]="deleteFlag" [hideSaveBtn]=true [hideResetBtn]=true [hideDeleteBtn]=false
                [formObj]="purchaseForm" (saveRecord)="save()" (deleteRecord)="delete()" (displayErrorMessages)="requiredErrMsg()"
                (afterSuccess)="successMsg()" (resetForm)="resetForm()"></app-buttons>
        </div>

    </form>
</div>