<div class="col-xs-12">
  <h3>{{'salesReturn.title' | translate}}</h3>
  <form [formGroup]="salesReturnForm" autocomplete="off">
    <app-errormessages [formRequiredError]="formRequiredError" [formSuccess]="formSuccess" [formServerError]="sharedDataService.getErrorMesage()"
    [errorMessage]="'serverError.errorMessage'" [errorStatusCode]="sharedDataService.getErrorCode()" [duplicateMessage]="duplicateMessage"
    [errorStatusMsg]="sharedDataService.getErrorMesage()" [duplicateMessageParam]="duplicateMessageParam">
   </app-errormessages>

   <div class="container-fluid" style="border-style: outset;">
    <div class="col-xs-3 mr-t-1">
        <p>{{'salesReturn.salesReturnNo' | translate}}: * &emsp;(<a style="cursor: pointer" (click)="resetForm('CloseOrder')">Close
          Order</a>) &emsp; <span *ngIf="nameFlag">(<a style="cursor: pointer" (click)="deleteOrder()">Delete Order</a>)</span></p>
      <input id="salesReturnNo" type="number" #focus [readonly]=true class="form-control" [formControl]="salesReturnForm.controls['salesReturnNo']">
      </div>
      <div class="col-xs-3 mr-t-1">
          <p>{{'salesReturn.salesReturnDate' | translate}}: *</p>
          <input id="salesReturnDate" type="date" class="form-control" [formControl]="salesReturnForm.controls['salesReturnDate']">
          <span class="caret hide-caret"></span>
        </div>
      <div class="col-xs-3 mr-t-1">
        <p>{{'salesOrder.customer' | translate}}: *</p>
        <input id="customer"  class="form-control" formControlName="customer" typeaheadOptionField="accountName"
          (typeaheadOnSelect)="onSelectSupplier($event)" [typeahead]="customersList" [typeaheadOptionsLimit]="7"
          [typeaheadMinLength]="0">
        <span class="caret"></span>
      </div>
      <div class="col-xs-3 mr-t-1">
          <p>{{'purchase.gstIN' | translate}}: *</p>
          <input id="gstIN"  [readonly]=true class="form-control" [formControl]="salesReturnForm.controls['gstIN']">
          <span class="caret hide-caret"></span>
        </div>
      </div>
      <div class="col-md-12 mr-t-1">
       <div class="col-xs-3 mr-t-1">
        <p>{{'accountinfo.gsttype' | translate}}: *</p>
        <input id="gstType"  class="form-control" [formControl]="salesReturnForm.controls['gstType']"
          [typeahead]="accGstTypeList" typeaheadOptionField="description" [typeaheadOptionsLimit]="7"
          [typeaheadMinLength]="0">
      </div>
      <div class="col-xs-3 mr-t-1">
        <p>{{'salesInvoice.mode' | translate}}: *</p>
        <input id="mode"  class="form-control" [formControl]="salesReturnForm.controls['mode']"
          [typeahead]="modeTypeList" typeaheadOptionField="description" [typeaheadOptionsLimit]="7"
          [typeaheadMinLength]="0">
          <span class="caret"></span>
      </div>
   
    
      <div class="col-xs-3 mr-t-1">
        <p>{{'common.productName' | translate}}: *</p>
        <input id="productName" class="form-control" formControlName="productName" typeaheadOptionField="name"
          [typeahead]="productsList" [typeaheadOptionsLimit]="7" (typeaheadOnSelect)="onSelectProduct($event)"
          [typeaheadMinLength]="0">
        <span class="caret"></span>
      </div>
      <div class="col-xs-3 mr-t-1">
        <p>{{'common.batch' | translate}}: *</p>
        <input id="batch"    class="form-control" (blur)="calculateRate()" [formControl]="salesReturnForm.controls['batch']">
        <span class="caret hide-caret"></span>
      </div>
      <div class="col-xs-3 mr-t-1">
        <p>{{'purchase.expiry' | translate}}: *</p>
        <input id="expiry" type="date" class="form-control" [formControl]="salesReturnForm.controls['expiry']">
      </div>
      
      <div class="col-xs-3 mr-t-1">
        <p>{{'common.qty' | translate}}: *</p>
        <input id="qty" type="number"  class="form-control" (blur)="calculateRate()" [formControl]="salesReturnForm.controls['qty']">
        <span class="caret hide-caret"></span>
      </div>
      <div class="col-xs-3 mr-t-1">
          <div class="col-xs-6  ">
          <p>{{'common.free' | translate}}: *</p>
          <input id="free" type="number"  [readonly]=true   class="form-control" [formControl]="salesReturnForm.controls['free']">
          <span class="caret hide-caret"></span>
        </div>
        <div class="col-xs-6  ">
          <p>{{'deliveryChallan.sRate' | translate}}: *</p>
          <input id="sRate" [readonly]=true type="number"   class="form-control" [formControl]="salesReturnForm.controls['sRate']">
        </div>
      </div>
      <div class="col-xs-3 mr-t-1">
          <div class="col-xs-6  ">
          <p>{{'common.disc' | translate}}: *</p>
          <input id="disc" type="number"  class="form-control" [formControl]="salesReturnForm.controls['disc']">
          <span class="caret hide-caret"></span>
        </div>
        <div class="col-xs-6  ">
        <p>{{'common.gstp' | translate}}: *</p>
        <input id="gstp" type="number"   class="form-control" [formControl]="salesReturnForm.controls['gstp']">
        <span class="caret hide-caret"></span>
      </div>
    </div>
    <div class="col-md-12 mr-rt-1">
    <app-buttons [title]="'salesReturn.title'" [endPoint]="endPoint" (resetForm)="resetForm()" [deleteConfirmMsg]="'salesReturn.deleteConfirmationMessage'"
			 (saveRecord)="save()" [saveConfirmMsg]="'salesReturn.saveConfirmationMessage'" [hideResetBtn]=true [saveInfoMsg]="'salesReturn.saveInformationMessage'"
			 [hideSaveBtn]=true [hideDeleteBtn]=true [deleteInfoMsg]="'salesReturn.deleteInformationMessage'"
			 [duplicateMessage]="duplicateMessage" [isBtnDeleteDisable]="deleteFlag" [formObj]="salesReturnForm"
			 (deleteRecord)="delete()" (displayErrorMessages)="requiredErrMsg()" (afterSuccess)="successMsg()">
      </app-buttons>
    </div>
  </div>
  </form>
</div>
<div class="col-md-12 mr-r-10">

  <div class="col-xs-11 mr-r-10">
    <p> Total value:</p>
  </div>
  <div class="col-xs-1">
      {{this.totalValue}}	
  </div>
</div>
<div class="col-md-12">
  <app-synectiks-common-grid [endPoint]="endPoint" (intialLoad)='onInitialDataLoad($event)' [gridDataList]="gridDataList"
    (valueChange)='valueChange($event)' [screenColums]="'SalesReturnColumns'"></app-synectiks-common-grid>
</div>